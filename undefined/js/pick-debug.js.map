{"version":3,"sources":["../../config-wrap-start-default.js","pick-debug/pick-debug.js","../../../../../../module-create.js"],"names":["sitecues","define","DEBUG_LABEL_STYLE","scoreFactorCompare","sf1","sf2","Math","abs","impact","isFactor","item","isNonFactor","getScoreFactorString","sf","value","String","about","slice","toFixed","weight","logHeuristicResult","scoreObjs","bestScoreIndex","nodes","index","scoreObj","numUnusableAtTop","startItem","length","some","judgements","headingStyle","console","group","score","log","logObject","traits","factors","sort","logArray","filter","map","forEach","groupEnd","logItem","toString","indexOf","logTitle","title","doStartExpanded","groupCollapsed","array","logStyleObject","sty","obj","key","sortedKeys","Object","keys","CSSStyleDeclaration"],"mappings":"AAAA;;;;;;ACMAA,SAAAC,OAAA,6BAAA;EACA,IAAAC,oBAAA;;EAIA,SAAAC,mBAAAC,KAAAC;IACA,OAAAC,KAAAC,IAAAF,IAAAG,UAAAF,KAAAC,IAAAH,IAAAI;;EAGA,SAAAC,SAAAC;IACA,OAAA,MAAAA,KAAAF;;EAGA,SAAAG,YAAAD;IACA,OAAA,MAAAA,KAAAF;;EAGA,SAAAI,qBAAAC;IACA,IAAAC,QAAA,IAAAD,GAAAC,SAAA;IACA,OAAAC,OAAA,4CAAAF,GAAAG,OAAAC,OAAA,MAAA,OACAF,OAAA,6BAAAD,MAAAI,QAAA,IAAAD,OAAA,MAAA,UACAF,OAAA,6BAAAF,GAAAM,OAAAD,QAAA,IAAAD,OAAA,MAAA,UACAF,OAAA,8BAAAF,GAAAM,SAAAL,OAAAI,QAAA,IAAAD,OAAA;;EAGA,SAAAG,mBAAAC,WAAAC,gBAAAC;IACA,IAAAC,OAAAC;IACA,IAAAC,mBAAA;IACA,IAAAC,YAAAN,UAAAO,SAAA;IACAP,UAAAQ,KAAA,SAAAJ;MACA,KAAAA,SAAAK,YAAA;UACAJ;QACA,OAAA;;MAEA,OAAA;;IAEA,IAAAA;IAIA,KAAAF,QAAAG,WAAAH,SAAA,GAAAA,SAAA;MACAC,WAAAJ,UAAAG;MACA,IAAAO,eAAA,0CACAP,UAAAF,kBAAA;MACAU,QAAAC,MAAA,sBAAAF,cAAAN,SAAAT,OAAAS,SAAAS;MAEAF,QAAAG,IAAAZ,MAAAC;MACAY,UAAA,UAAAX,SAAAY;MACAD,UAAA,cAAAX,SAAAK;MACA,IAAAL,SAAAa,SAAA;QACAb,SAAAa,QAAAC,KAAApC;;QACAqC,SAAA,WAAAf,SAAAa,QAAAG,OAAAhC,UAAAiC,IAAA9B,uBAAA;QACA4B,SAAA,eAAAf,SAAAa,QAAAG,OAAA9B,aAAA+B,IAAA9B;;;IAGAS,UAAAsB,QAAA;MACAX,QAAAY;;;EAIA,SAAAC,QAAAnC;IACA,IAAAsB,QAAAG,IAAAW,WAAAC,QAAA,mBAAA,GAAA;MACAf,QAAAG,IAAAzB;MACA;;;IAGAsB,QAAAC,MAAAvB;IACAsB,QAAAY;;EAGA,SAAAI,SAAAC,OAAAC;IACA,IAAAA;MACAlB,QAAAC,MAAA,QAAA/B,mBAAA+C;;MAGAjB,QAAAmB,eAAA,QAAAjD,mBAAA+C;;;EAIA,SAAAT,SAAAS,OAAAG,OAAAF;IACA,IAAAE,OAAA;MACAJ,SAAAC,OAAAC;MACAE,MAAAT,QAAAE;MACAb,QAAAY;;;EAIA,SAAAS,eAAAC;IACA,IAAA9B;IAEAwB,SAAA;IAEA,KAAAxB,QAAA,GAAAA,QAAA8B,IAAA1B,QAAAJ;MACAQ,QAAAG,IAAA,cAAAjC,mBAAAoD,IAAA9B,QAAA,kBAAA8B,IAAAA,IAAA9B;;IAGAQ,QAAAY;;EAGA,SAAAR,UAAAa,OAAAM,KAAAL;IACA,IAAA1B,OAAAgC,KAAAC;IACA,IAAAF,KAAA;MACAE,aAAAC,OAAAC,KAAAJ,KAAAhB;MACAS,SAAAC,OAAAC;MACA,KAAA1B,QAAA,GAAAA,QAAAiC,WAAA7B,QAAAJ,SAAA;QACAgC,MAAAC,WAAAjC;QACA,IAAA+B,IAAAC,gBAAAI;UACAP,eAAAE,IAAAC;;UAEA,IAAAD,IAAAC,gBAAAE;YACAtB,UAAAoB,KAAAD,IAAAC;;YAGAxB,QAAAG,IAAA,cAAAjC,mBAAAsD,KAAA,kBAAAD,IAAAC;;;;MAGAxB,QAAAY;;;EAGA;IACAxB,oBAAAA;;;;AC7HApB,SAAAC,OAAA,cAAA","file":"pick-debug.js.map","sourcesContent":["\"use strict\";\n","// Has not been converted to the new module system yet\n\n/*global console: true */\n\n// This helps debug the picker. Use sitecues.togglePickerDebugging() to turn\n// on useful console log messages related to picker heuristics.\nsitecues.define('pick-debug/pick-debug',[], function () {\n  var DEBUG_LABEL_STYLE = 'font-weight: normal; color: purple';\n\n  // -------- Logging section ---------\n\n  function scoreFactorCompare(sf1, sf2) {\n    return Math.abs(sf2.impact) - Math.abs(sf1.impact);\n  }\n\n  function isFactor(item) {\n    return item.impact !== 0;\n  }\n\n  function isNonFactor(item) {\n    return item.impact === 0;\n  }\n\n  function getScoreFactorString(sf) {\n    var value = (sf.value * 1) || 0;\n    return String('                                       ' + sf.about).slice(-45) + ': ' +\n           String('                        ' + value.toFixed(1)).slice(-21) + '   x ' +\n           String('                        ' + sf.weight.toFixed(1)).slice(-21) + '   = ' +\n           String('                        ' + (sf.weight * value).toFixed(0)).slice(-21);\n  }\n\n  function logHeuristicResult(scoreObjs, bestScoreIndex, nodes) {\n    var index, scoreObj;\n    var numUnusableAtTop = 0;\n    var startItem = scoreObjs.length - 1;\n    scoreObjs.some(function (scoreObj) {\n      if (!scoreObj.judgements) {\n        ++numUnusableAtTop;\n        return false;\n      }\n      return true;\n    });\n    if (numUnusableAtTop) {\n      //startItem -= numUnusableAtTop - 1;  // Only show last unusable item\n    }\n\n    for (index = startItem; index >= 0; index--) {\n      scoreObj = scoreObjs[index];\n      var headingStyle = 'font-weight: bold; font-size: 10pt; ' +\n        (index === bestScoreIndex && 'background-color: green; color: white;');\n      console.group('%c%s    Score = %d', headingStyle, scoreObj.about, scoreObj.score);\n\n      console.log(nodes[index]);\n      logObject('Traits', scoreObj.traits);\n      logObject('Judgements', scoreObj.judgements);\n      if (scoreObj.factors) {\n        scoreObj.factors.sort(scoreFactorCompare);  // Display highest impact score factors first\n        logArray('Factors', scoreObj.factors.filter(isFactor).map(getScoreFactorString), true);\n        logArray('Non-factors', scoreObj.factors.filter(isNonFactor).map(getScoreFactorString));\n      }\n    }\n    scoreObjs.forEach(function () {\n      console.groupEnd();\n    });\n  }\n\n  function logItem(item) {\n    if (console.log.toString().indexOf('[native code]') > 0) {\n      console.log(item);\n      return;\n    }\n    // Fallback when they tried to kill off logging\n    console.group(item);\n    console.groupEnd();\n  }\n\n  function logTitle(title, doStartExpanded) {\n    if (doStartExpanded) {\n      console.group('%c%s', DEBUG_LABEL_STYLE, title);\n    }\n    else {\n      console.groupCollapsed('%c%s', DEBUG_LABEL_STYLE, title);\n    }\n  }\n\n  function logArray(title, array, doStartExpanded) {\n    if (array) {\n      logTitle(title, doStartExpanded);\n      array.forEach(logItem);\n      console.groupEnd();\n    }\n  }\n\n  function logStyleObject(sty) {\n    var index;\n\n    logTitle('style');\n\n    for (index = 0; index < sty.length; index++) {\n      console.log('%c%s: %c%s', DEBUG_LABEL_STYLE, sty[index], 'color: #222222', sty[sty[index]]);\n    }\n\n    console.groupEnd();\n  }\n\n  function logObject(title, obj, doStartExpanded) {\n    var index, key, sortedKeys;\n    if (obj) {\n      sortedKeys = Object.keys(obj).sort();\n      logTitle(title, doStartExpanded);\n      for (index = 0; index < sortedKeys.length; index++) {\n        key = sortedKeys[index];\n        if (obj[key] instanceof CSSStyleDeclaration) {\n          logStyleObject(obj[key]);\n        }\n        else if (obj[key] instanceof Object) {\n          logObject(key, obj[key]);\n        }\n        else {\n          console.log('%c%s: %c%s', DEBUG_LABEL_STYLE, key, 'color: #222222', obj[key]);\n        }\n      }\n      console.groupEnd();\n    }\n  }\n  return {\n    logHeuristicResult: logHeuristicResult\n  };\n\n});\n\n","\nsitecues.define(\"pick-debug\", function(){});\n"]}